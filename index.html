<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>اختبار القانون التجاري الفاخر</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* تعريف متغيرات الألوان الملكية والفاخرة */
        :root {
            --royal-blue-dark: #0a192f; /* كحلي عميق جداً للخلفيات */
            --royal-blue-light: #172a45; /* كحلي أفتح قليلاً للعناصر */
            --gold-primary: #d4af37;   /* ذهبي معدني أساسي */
            --gold-light: #f4e4bc;     /* ذهبي فاتح للنصوص */
            --gold-gradient: linear-gradient(135deg, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c); /* تدرج ذهبي فاخر */
            --text-light: #e6f1ff;     /* لون نص فاتح */
            --text-dark: #0a192f;      /* لون نص داكن */
            --success-rich: #1b5e20;   /* أخضر غني */
            --error-rich: #b71c1c;     /* أحمر غني */
            --shadow-luxury: 0 10px 30px -10px rgba(2, 12, 27, 0.7);
        }

        body {
            font-family: 'Cairo', sans-serif;
            background-color: var(--royal-blue-dark);
            color: var(--text-light);
            margin: 0;
            padding: 20px;
            line-height: 1.7;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            /* إضافة زخرفة هندسية خفيفة في الخلفية */
            background-image: 
                linear-gradient(rgba(10, 25, 47, 0.9), rgba(10, 25, 47, 0.95)),
                url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23d4af37' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

        .container {
            width: 100%;
            max-width: 850px;
            background: var(--royal-blue-light);
            padding: 40px;
            border-radius: 20px;
            box-shadow: var(--shadow-luxury), inset 0 0 0 2px rgba(212, 175, 55, 0.1);
            border-top: 5px solid var(--gold-primary);
            position: relative;
            overflow: hidden;
            animation: slideUpFade 0.8s ease-out;
        }

        /* تأثير لمعان ذهبي يمر عبر الحاوية */
        .container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(212, 175, 55, 0.05) 0%, transparent 70%);
            pointer-events: none;
        }

        h1 {
            text-align: center;
            color: var(--gold-primary);
            margin-bottom: 5px;
            font-size: 2.2rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 1px;
            /* جعل النص يبدو ذهبياً */
            background: var(--gold-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            text-align: center;
            color: var(--gold-light);
            margin-bottom: 30px;
            font-size: 1.1rem;
            position: relative;
            padding-bottom: 15px;
        }

        .subtitle::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: var(--gold-gradient);
            border-radius: 2px;
        }

        .stats {
            display: flex;
            justify-content: space-between;
            background: rgba(10, 25, 47, 0.6);
            padding: 15px 25px;
            border-radius: 12px;
            margin-bottom: 25px;
            font-weight: 700;
            color: var(--gold-light);
            border: 1px solid rgba(212, 175, 55, 0.3);
            box-shadow: inset 0 0 10px rgba(0,0,0,0.2);
        }

        .question-card {
            /* إضافة حركة ظهور للسؤال */
            animation: fadeInUp 0.6s ease-in-out;
        }

        .question-text {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 25px;
            color: var(--text-light);
            text-shadow: 0 1px 2px rgba(0,0,0,0.5);
            border-right: 4px solid var(--gold-primary);
            padding-right: 15px;
        }

        .options-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .option-btn {
            padding: 18px 25px;
            border: 2px solid rgba(212, 175, 55, 0.4);
            border-radius: 12px;
            background: rgba(23, 42, 69, 0.8); /* خلفية شبه شفافة */
            color: var(--text-light);
            font-size: 1.1rem;
            font-family: 'Cairo', sans-serif;
            text-align: right;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            position: relative;
            outline: none;
            font-weight: 600;
            overflow: hidden;
        }

        /* تأثير عند مرور الماوس */
        .option-btn:hover:not(:disabled) {
            background: rgba(212, 175, 55, 0.15);
            border-color: var(--gold-primary);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.2);
        }

        /* تأثير عند النقر */
        .option-btn:active:not(:disabled) {
             transform: translateY(-1px);
        }

        /* تنسيقات الإجابة الصحيحة */
        .option-btn.correct {
            background: linear-gradient(135deg, var(--success-rich), #2e7d32) !important;
            border-color: #4caf50 !important;
            color: white !important;
            box-shadow: 0 0 15px rgba(76, 175, 80, 0.4) !important;
            padding-left: 40px; /* مساحة للأيقونة */
            animation: pulseSuccess 0.5s ease-out;
        }
        /* إضافة أيقونة صح */
        .option-btn.correct::after {
            content: '✓';
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--gold-primary);
        }

        /* تنسيقات الإجابة الخاطئة */
        .option-btn.wrong {
            background: linear-gradient(135deg, var(--error-rich), #c62828) !important;
            border-color: #e53935 !important;
            color: white !important;
            box-shadow: 0 0 15px rgba(229, 57, 53, 0.4) !important;
            padding-left: 40px;
            animation: shakeError 0.5s ease-in-out;
        }
         /* إضافة أيقونة خطأ */
        .option-btn.wrong::after {
            content: '✗';
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
        }

        .option-btn:disabled {
            cursor: default;
            opacity: 0.85;
        }
        /* جعل الخيارات غير المختارة باهتة قليلاً عند ظهور النتيجة */
        .option-btn:disabled:not(.correct):not(.wrong) {
            background: rgba(10, 25, 47, 0.4);
            border-color: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.5);
        }

        .controls {
            display: flex;
            justify-content: space-between;
            margin-top: 35px;
            padding-top: 25px;
            border-top: 2px solid rgba(212, 175, 55, 0.2);
        }

        .btn {
            padding: 12px 35px;
            border: none;
            border-radius: 50px; /* أزرار دائرية */
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 700;
            font-family: 'Cairo', sans-serif;
            color: var(--royal-blue-dark);
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            position: relative;
            z-index: 1;
            overflow: hidden;
        }

        /* زر التالي - ذهبي فاخر */
        .btn-next {
            background: var(--gold-gradient);
        }
        .btn-next::before {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(rgba(255,255,255,0.2), transparent);
            z-index: -1;
            transition: opacity 0.3s;
            opacity: 0;
        }
        .btn-next:hover:not(:disabled) {
            box-shadow: 0 6px 20px rgba(212, 175, 55, 0.5);
            transform: translateY(-2px);
        }
        .btn-next:hover::before { opacity: 1; }

        /* زر السابق - فضي/رمادي مزرق */
        .btn-prev {
            background: linear-gradient(135deg, #7f8c8d, #bdc3c7);
            color: var(--royal-blue-dark);
        }
        .btn-prev:hover:not(:disabled) {
             box-shadow: 0 6px 20px rgba(127, 140, 141, 0.5);
             transform: translateY(-2px);
        }

        .btn:disabled {
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.3);
            box-shadow: none;
            cursor: not-allowed;
        }

        /* شاشة النتائج */
        .result-box {
            display: none;
            text-align: center;
            padding: 30px;
            animation: zoomIn 0.6s ease-out;
        }

        .result-box h2 {
            color: var(--gold-primary);
            font-size: 2rem;
            margin-bottom: 30px;
        }

        /* دائرة النتيجة - وسام ذهبي */
        .score-circle {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            /* خلفية ذهبية متدرجة */
            background: var(--gold-gradient);
            color: var(--royal-blue-dark);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: 800;
            margin: 20px auto 40px;
            box-shadow: 
                0 0 0 8px rgba(212, 175, 55, 0.2),
                0 0 30px rgba(212, 175, 55, 0.5),
                inset 0 0 20px rgba(0,0,0,0.2);
            border: 4px solid var(--gold-light);
            text-shadow: 0 1px 2px rgba(255,255,255,0.5);
            animation: pulseGold 2s infinite;
        }

        #result-message {
            margin: 25px 0;
            padding: 15px;
            border-radius: 10px;
            background: rgba(0,0,0,0.2);
        }

        /* تعريف الحركات (Keyframes) */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translate3d(0, 30px, 0);
            }
            to {
                opacity: 1;
                transform: translate3d(0, 0, 0);
            }
        }

        @keyframes slideUpFade {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes zoomIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes pulseSuccess {
            0% { box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(76, 175, 80, 0); }
            100% { box-shadow: 0 0 0 0 rgba(76, 175, 80, 0); }
        }
        
        @keyframes shakeError {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-5px); }
            40%, 80% { transform: translateX(5px); }
        }

        @keyframes pulseGold {
            0% { box-shadow: 0 0 0 0 rgba(212, 175, 55, 0.6), 0 0 30px rgba(212, 175, 55, 0.5), inset 0 0 20px rgba(0,0,0,0.2); }
            70% { box-shadow: 0 0 0 15px rgba(212, 175, 55, 0), 0 0 30px rgba(212, 175, 55, 0.5), inset 0 0 20px rgba(0,0,0,0.2); }
            100% { box-shadow: 0 0 0 0 rgba(212, 175, 55, 0), 0 0 30px rgba(212, 175, 55, 0.5), inset 0 0 20px rgba(0,0,0,0.2); }
        }
    </style>
</head>
<body>

<div class="container">
    <h1>اختبار شامل في مادة القانون التجاري</h1>
    <p class="subtitle">تقدمة: أبو البراء</p>
    
    <div id="quiz-area">
        <div class="stats">
            <span>السؤال: <span id="q-current">1</span> / <span id="q-total">0</span></span>
            <span>النتيجة الحالية: <span id="score">0</span></span>
        </div>

        <div class="question-card">
            <div class="question-text" id="question-text"></div>
            <div class="options-list" id="options-container"></div>
        </div>

        <div class="controls">
            <button class="btn btn-prev" id="prev-btn" onclick="prevQuestion()" disabled>السابق</button>
            <button class="btn btn-next" id="next-btn" onclick="nextQuestion()">التالي</button>
        </div>
    </div>

    <div id="result-area" class="result-box">
        <h2>انتهى الاختبار!</h2>
        <div class="score-circle" id="final-score">0%</div>
        <p id="result-message"></p>
        <div class="stats" style="justify-content: center; gap: 30px;">
            <span style="color: #4caf50;">صحيحة: <span id="correct-count">0</span> ✓</span>
            <span style="color: #e53935;">خاطئة: <span id="wrong-count">0</span> ✗</span>
        </div>
        <button class="btn btn-next" onclick="location.reload()" style="margin-top: 30px;">إعادة الاختبار</button>
    </div>
</div>

<script>
    // قاعدة البيانات (نفس الأسئلة السابقة تماماً)
    const questionsData = [
        { q: "يُصنف القانون التجاري من حيث التقسيم ضمن فروع:", options: ["القانون الخاص", "القانون العام", "القانون الإداري", "القانون الدستوري"], a: 0 },
        { q: "المبدأ في القانون التجاري من حيث الإثبات يقوم على:", options: ["حرية الإثبات بكافة الطرق", "الإثبات بالكتابة حصراً", "الإثبات باليمين الحاسمة", "شهادة الشهود فقط"], a: 0 },
        { q: "من مظاهر دعم الائتمان في القانون التجاري:", options: ["افتراض التضامن بين المدينين", "منع الفوائد", "تطويل أمد التقاضي", "اشتراط الرهن العقاري"], a: 0 },
        { q: "من الدول التي أخذت بمبدأ عدم فصل القانون التجاري عن المدني (وحدة القانون):", options: ["إنكلترا وإيطاليا وسويسرا", "فرنسا وألمانيا", "سوريا ومصر", "إسبانيا وبلجيكا"], a: 0 },
        { q: "من مصادر القانون التجاري البري في سوريا:", options: ["جميع ما ذكر صحيح", "التشريع (القانون المدني والتجاري)", "العرف والعادة", "الاجتهاد القضائي والفقه"], a: 0 },
        { q: "في حال خلو قانون التجارة والقانون المدني من نص، يطبق القاضي:", options: ["العرف المتوطد", "قوانين الدول المجاورة", "العدالة المطلقة", "آراء الفقهاء الشخصية"], a: 0 },
        { q: "النظرية التي تجعل القانون التجاري مقتصراً على فئة التجار تسمى:", options: ["النظرية الشخصية", "النظرية الموضوعية", "النظرية المختلطة", "النظرية المادية"], a: 0 },
        { q: "القانون التجاري الفرنسي اعتنق النظرية:", options: ["الموضوعية", "الشخصية", "التعاقدية", "السياسية"], a: 0 },
        { q: "موقف المشرع السوري من النظريتين الشخصية والموضوعية:", options: ["مزج بين النظريتين", "أخذ بالشخصية فقط", "أخذ بالموضوعية فقط", "رفض النظريتين تماماً"], a: 0 },
        { q: "معيار التمييز بين الأعمال المدنية والتجارية عند المشرع السوري:", options: ["ترك للفقه والقضاء سد النقص", "وضع معياراً جامداً لا يتغير", "اعتمد معيار الربح فقط", "اعتمد معيار الحجم"], a: 0 },
        { q: "أهم النظريات التي وضعها الفقهاء لتمييز العمل التجاري:", options: ["التداول والمضاربة والمشروع", "السرعة والائتمان", "الشهرة والعلانية", "الربح والخسارة"], a: 0 },
        { q: "من القواعد التي تنطبق على الأعمال التجارية دون المدنية:", options: ["الإفلاس والتضامن وحرية الإثبات", "الإعسار", "الإثبات المقيد بالكتابة", "عدم جواز الفوائد"], a: 0 },
        { q: "قيمة الفائدة القانونية في المسائل التجارية هي:", options: ["5%", "4%", "9%", "7%"], a: 0 },
        { q: "مدة التقادم المسقط في المواد التجارية (القاعدة العامة):", options: ["10 سنوات", "15 سنة", "5 سنوات", "سنة واحدة"], a: 0 },
        { q: "مهلة تنفيذ الرهن التجاري بعد التبليغ هي:", options: ["8 أيام", "3 أيام", "15 يوماً", "شهر"], a: 0 },
        { q: "الأعمال التجارية بحكم ماهيتها الذاتية:", options: ["تعتبر تجارية بصرف النظر عن صفة القائم بها", "تعتبر تجارية فقط إذا قام بها تاجر", "تعتبر مدنية إذا كانت لمرة واحدة", "تحتاج لترخيص مسبق لتكون تجارية"], a: 0 },
        { q: "مشروع المصانع يعتبر:", options: ["عملاً تجارياً ولو اقترن باستثمار زراعي", "عملاً مدنياً دائماً", "عملاً تجارياً بشرط عدم وجود زراعة", "عملاً إدارياً"], a: 0 },
        { q: "قيام فرقة تمثيل جامعية بمسرحية بمقابل مالي يعتبر:", options: ["عملاً مدنياً لأنه عارض", "عملاً تجارياً", "عملاً مختلطاً", "تجارة بالتبعية"], a: 0 },
        { q: "دفع عمال شركة اشتراكات لصندوق خاص بهم يعد:", options: ["عملاً مدنياً لانتفاء قصد المضاربة", "عملاً تجارياً", "عملاً بنكياً", "استثماراً تجارياً"], a: 0 },
        { q: "استئجار شخص سيارة بهدف نقل الركاب:", options: ["عمل تجاري (شراء خدمات لأجل البيع)", "عمل مدني", "عمل خيري", "عمل إداري"], a: 0 },
        { q: "بيع الرسام للوحته الفنية:", options: ["عمل مدني (لأنه لم يسبقه شراء)", "عمل تجاري", "عمل مختلط", "عمل صناعي"], a: 0 },
        { q: "شراء الطبيب أدوية لبيعها لمرضاه فقط:", options: ["عمل مدني (لأن مهنته مدنية)", "عمل تجاري بالتبعية", "عمل تجاري منفرد", "مضاربة تجارية"], a: 0 },
        { q: "الكفالة في القانون السوري:", options: ["لا تعد تجارية (عقد تبرع) ولو كان الدين تجارياً", "تعد تجارية دائماً", "تعد تجارية إذا كان الكفيل تاجراً", "تعد عملاً مختلطاً"], a: 0 },
        { q: "الأعمال التجارية بالتبعية هي:", options: ["أعمال مدنية بالأصل صدرت من تاجر لحاجات تجارته", "أعمال تجارية بالأصل قام بها مدني", "أعمال الشركات الأجنبية", "أعمال الدولة"], a: 0 },
        { q: "بيع مزارع محصوله لتاجر يعتبر:", options: ["عملاً مختلطاً (مدني للمزارع تجاري للتاجر)", "تجارياً للطرفين", "مدنياً للطرفين", "عملاً إدارياً"], a: 0 },
        { q: "يشترط لاكتساب صفة التاجر:", options: ["الاحتراف والأهلية وممارسة الأعمال التجارية", "التسجيل في الغرفة التجارية فقط", "امتلاك عقار تجاري", "الحصول على شهادة جامعية"], a: 0 },
        { q: "سن الرشد التجاري (الأهلية الكاملة):", options: ["18 سنة كاملة", "21 سنة", "15 سنة", "19 سنة"], a: 0 },
        { q: "فاقدو الأهلية هم:", options: ["المجانين والمعتوهين ومن دون السابعة", "من دون سن 18", "المفلسون", "الأجانب"], a: 0 },
        { q: "تصرفات الصبي غير المميز (دون السابعة):", options: ["باطلة بطلاناً مطلقاً", "قابلة للإبطال", "صحيحة موقوفة", "صحيحة إذا وافق الولي"], a: 0 },
        { q: "الدفاتر التجارية الإلزامية تشمل:", options: ["اليومية والجرد وصور الرسائل", "دفتر المبيعات فقط", "دفتر المسودة", "دفتر الشيكات"], a: 0 },
        { q: "شركات الأشخاص هي:", options: ["التضامن والتوصية البسيطة والمحاصة", "المساهمة والمحدودة المسؤولية", "القابضة فقط", "الشركات العقارية"], a: 0 },
        { q: "القانون العام ينظم العلاقات التي تكون الدولة طرفاً فيها بصفتها:", options: ["سلطة عامة ذات سيادة", "شخصاً معنوياً عادياً", "تاجر", "وسيط تجاري"], a: 0 },
        { q: "أشد فروع القانون ارتباطاً بالقانون التجاري البري:", options: ["القانون البحري والجوي", "القانون الجنائي", "قانون الأسرة", "القانون الدستوري"], a: 0 },
        { q: "إذا حدد عقد الشركة نسبة الخسائر فقط ولم يحدد الأرباح:", options: ["تكون نسبة الأرباح مساوية لنسبة الخسائر", "يبطل العقد", "تقسم الأرباح بالتساوي", "تحال للمحكمة للتقدير"], a: 0 },
        { q: "دول اعتنقت النظرية الشخصية للقانون التجاري:", options: ["ألمانيا وإيطاليا وسويسرا", "فرنسا ومصر", "سوريا ولبنان", "السعودية والكويت"], a: 0 },
        { q: "الشريك في الشركة وفق القانون السوري هو من يساهم بـ:", options: ["حصة نقدية أو عينية أو عمل", "حصة نقدية فقط", "النفوذ والاسم فقط", "العقارات فقط"], a: 0 },
        { q: "دول تطبق أحكام القانون التجاري بشكل مستقل:", options: ["إسبانيا وألمانيا والعراق", "بريطانيا وأمريكا", "إيطاليا وسويسرا", "السويد والنرويج"], a: 0 },
        { q: "سبب ارتفاع الفائدة في القانون التجاري عن المدني:", options: ["لأن النقود في التجارة تدر أرباحاً أكثر", "لأن التجار أغنياء", "لتشجيع الادخار", "لمنع التضخم"], a: 0 },
        { q: "امتناع المدين عن دفع دين مدني يطبق عليه نظام:", options: ["الإعسار", "الإفلاس", "التصفية القضائية", "الحراسة القضائية"], a: 0 },
        { q: "معنى التضامن بين المدينين:", options: ["للدائن مطالبة أي مدين بكامل الدين", "تقسيم الدين بالتساوي إجبارياً", "مطالبة المدين الأصلي فقط", "عدم جواز الرجوع على الكفيل"], a: 0 },
        { q: "مشروع المناجم والبترول يعد:", options: ["تجارياً بحكم الماهية الذاتية", "مدنياً لأنه استخراج من الأرض", "تجارياً بالتبعية", "عملاً إدارياً"], a: 0 },
        { q: "الاطلاع الجزئي على الدفاتر التجارية:", options: ["يكون لاستخراج بيانات متعلقة بنزاع قائم", "ممنوع نهائياً", "متاح للجمهور", "متاح للمنافسين"], a: 0 },
        { q: "في النزاع بين دفترين إلزاميين منتظمين لتاجرين (أحدهما يثبت ديناً والآخر وفاءً):", options: ["تقرر المحكمة تهاتر البينتين وتسقيطهما", "يغلب دفتر المدعي", "يغلب دفتر المدعى عليه", "تطلب اليمين الحاسمة"], a: 0 },
        { q: "إثبات الدين بدفتر الأستاذ يكون حجة:", options: ["إذا كان الخصم تاجراً فقط", "على جميع الأشخاص", "في مواجهة غير التجار", "لا يعد حجة أبداً"], a: 0 },
        { q: "الإشراف القضائي على السجل التجاري مطبق في التشريع:", options: ["الألماني", "الفرنسي", "الأمريكي", "الإنجليزي"], a: 0 },
        { q: "المحكمة المختصة بالخلاف في السجل التجاري:", options: ["البداية المدنية", "الصلح المدني", "الجنايات", "الإدارية العليا"], a: 0 },
        { q: "عقد العمل بين عامل ومصنع يعتبر:", options: ["تجارياً للمصنع ومدنياً للعامل", "تجارياً للطرفين", "مدنياً للطرفين", "إدارياً"], a: 0 },
        { q: "إثبات الالتزام في الأعمال المختلطة يكون:", options: ["حسب صفة الخصم (المدين)", "دائماً بالكتابة", "دائماً بالشهادة", "حسب قانون المدعي"], a: 0 },
        { q: "شركة التضامن تتميز بأن:", options: ["الشركاء مسؤولون مسؤولية تضامنية وغير محدودة", "المسؤولية محدودة برأس المال", "ليس لها عنوان تجاري", "الشركاء فيها مخفيون"], a: 0 },
        { q: "عزل مدير شركة التضامن إذا كان من غير الشركاء:", options: ["يجوز عزله", "لا يجوز عزله أبداً", "يجوز بموافقة المحكمة فقط", "يتطلب حل الشركة"], a: 0 },
        { q: "الشركة ذات الطبيعة المختلطة (أشخاص وأموال):", options: ["الشركة المحدودة المسؤولية", "شركة التضامن", "شركة المساهمة", "شركة المحاصة"], a: 0 },
        { q: "في حال خلو قانون التجارة من النص وعدم وجود عرف، نعود لـ:", options: ["القانون المدني", "القانون الجنائي", "قوانين الدول الأخرى", "الاجتهاد الشخصي"], a: 0 },
        { q: "يلتزم التاجر بالاحتفاظ بالدفاتر التجارية بعد اختتامها لمدة:", options: ["10 سنوات", "5 سنوات", "15 سنة", "سنتين"], a: 0 },
        { q: "يتم ترقيم الدفاتر التجارية من قبل:", options: ["رئيس محكمة البداية المدنية", "كاتب العدل", "المحافظ", "مدير السجل التجاري"], a: 0 },
        { q: "من العناصر المعنوية للمتجر:", options: ["الاتصال بالزبائن والاسم التجاري", "البضائع", "المعدات", "الأثاث"], a: 0 },
        { q: "الشركة التي لا تتمتع بالشخصية الاعتبارية هي:", options: ["شركة المحاصة", "شركة التضامن", "شركة التوصية", "المحدودة المسؤولية"], a: 0 },
        { q: "نظام الملكية على الشيوع هو:", options: ["امتلاك عدة أشخاص لمال مشترك غير مفرز", "ملكية الدولة للأراضي", "الشركات المساهمة", "الجمعيات التعاونية"], a: 0 },
        { q: "قرار محكمة البداية في خلافات السجل التجاري:", options: ["قابل للاستئناف", "مبرم (نهائي)", "قابل للنقض فقط", "غير قابل للطعن"], a: 0 },
        { q: "شهرة الشركة التجارية تتم بـ:", options: ["تسجيلها في السجل وإيداع نسخة بالمحكمة", "الإعلان في الصحف فقط", "تعليق لافتة", "توزيع منشورات"], a: 0 },
        { q: "من الأشخاص الذين يعدون تجاراً:", options: ["الشريك في شركة التضامن", "المزارع", "الطبيب", "الممثل التجاري"], a: 0 },
        { q: "سحب سفاتج من صاحب عقار على المستأجرين:", options: ["لا يكسبه صفة التاجر", "يكسبه صفة التاجر", "يعتبر عملاً بنكياً", "يعتبر عملاً تجارياً منفرداً"], a: 0 },
        { q: "لغة الدفاتر التجارية في سوريا:", options: ["اللغة العربية", "أي لغة", "الإنكليزية", "لغة التاجر"], a: 0 },
        { q: "يجب طلب القيد في السجل التجاري خلال:", options: ["شهر من تاريخ الوثيقة أو العمل", "شهرين", "15 يوماً", "6 أشهر"], a: 0 },
        { q: "لا يمكن للشخص أن يدعي بصفته التجارية في الدعوى ما لم:", options: ["يكن مسجلاً في السجل التجاري", "يكن لديه متجر كبير", "يكن عضواً في النقابة", "يدفع ضريبة الدخل"], a: 0 },
        { q: "الصغير المميز (15 سنة) يجوز له التجارة:", options: ["إذا أذن له القاضي", "دون إذن", "بموافقة والده فقط", "لا يجوز مطلقاً"], a: 0 },
        { q: "الاطلاع الكلي على الدفاتر التجارية يجوز في حالات منها:", options: ["الإرث وقسمة الأموال والإفلاس", "الطلاق", "البيع العادي", "التفتيش الإداري"], a: 0 },
        { q: "يتم شطب قيد التاجر في حالة:", options: ["الوفاة أو ترك التجارة أو انحلال الشركة", "الخسارة المالية", "السفر المؤقت", "المرض العارض"], a: 0 },
        { q: "القانون الدولي الخاص يعتبر جزءاً من:", options: ["القانون الخاص", "القانون العام", "القانون المختلط", "القانون الدستوري"], a: 0 },
        { q: "العرف هو:", options: ["قواعد غير مكتوبة ملزمة", "نصوص قانونية مكتوبة", "آراء الفقهاء", "قرارات المحاكم"], a: 0 },
        { q: "في التصرفات المدنية التي تزيد عن 500 ل.س يشترط للإثبات:", options: ["الكتابة", "الشهادة", "القرائن", "العرف"], a: 0 },
        { q: "لتنفيذ الرهن المدني:", options: ["يتوجب الحصول على حكم من القاضي", "ينفذ مباشرة", "يكفي إعذار المدين", "ينفذ عن طريق الشرطة فوراً"], a: 0 },
        { q: "الأعمال المختلطة هي:", options: ["تجارية لطرف ومدنية لطرف آخر", "تجارية للطرفين", "مدنية للطرفين", "أعمال إدارية"], a: 0 },
        { q: "في حال تعارض العرف مع النص التجاري (قاعدة عامة):", options: ["النص يقدم على العرف", "العرف يقدم على النص", "القاضي يختار", "يلغى الاثنان"], a: 0 },
        { q: "الأعمال التجارية المنفردة تشمل:", options: ["الصرافة والمبادلة المالية", "التعليم", "الطبابة", "المحاماة"], a: 0 },
        { q: "صاحب مطعم اشترى مواد وباعها بخسارة، يعتبر عمله:", options: ["مدنياً (لانتفاء قصد الربح/استهلاك)", "تجارياً", "مختلطاً", "إدارياً"], a: 0 },
        { q: "مشروع النقل (بري/بحري/جوي):", options: ["تجاري بحكم الماهية الذاتية", "مدني", "تجاري فقط إذا كان دولياً", "تجاري بالتبعية"], a: 0 },
        { q: "الأسناد التجارية تشمل:", options: ["السفتجة، السند لأمر، الشيك", "سند الملكية، عقد الإيجار", "الهوية الشخصية", "شهادة الأسهم"], a: 0 },
        { q: "الأشخاص الممنوعون من التجارة (عدم الأهلية المهنية):", options: ["المحامي والطبيب والموظف", "النساء", "الأجانب", "كبار السن"], a: 0 },
        { q: "الالتزام التجاري (تقديم خدمة):", options: ["يعد مأجوراً وفق القانون", "يعد مجانياً بالأصل", "يعد تبرعاً", "يعتمد على الاتفاق"], a: 0 },
        { q: "مدة تسجيل التاجر عند فتح محل أو شرائه (حسب نص بعض الدورات):", options: ["خلال شهرين", "خلال شهر", "خلال أسبوع", "خلال سنة"], a: 0 },
        { q: "يؤدي أمين السجل التجاري اليمين أمام:", options: ["المحكمة البدائية المدنية", "وزير العدل", "محكمة الاستئناف", "المحافظ"], a: 0 },
        { q: "يجب قيد الأحكام القضائية في السجل التجاري خلال:", options: ["شهر من صدورها", "يوم واحد", "أسبوع", "سنة"], a: 0 },
        { q: "عقوبة تقديم بيانات غير صحيحة للسجل التجاري:", options: ["غرامة وحبس (اختصاص محكمة جزائية)", "غرامة فقط", "إغلاق المحل فقط", "لوم وتنبيه"], a: 0 },
        { q: "الوكيل بالعمولة:", options: ["يبرم العقد باسمه الخاص لحساب موكله", "يبرم العقد باسم موكله", "مجرد وسيط لا يبرم عقوداً", "موظف لدى الموكل"], a: 0 },
        { q: "السفيه وذو الغفلة بعد الحجر عليهما:", options: ["يأخذان حكم الصبي المميز", "يأخذان حكم المجنون", "كامل الأهلية", "ممنوعان من التصرف نهائياً"], a: 0 }
    ];

    // متغيرات الحالة
    let currentIndex = 0;
    let score = 0;
    // userSelections: يخزن رقم الإجابة التي اختارها المستخدم (حسب الفهرس الأصلي في المصفوفة)
    let userSelections = new Array(questionsData.length).fill(null);
    // shuffledIndices: يخزن ترتيب عرض الخيارات لكل سؤال (لتثبيت الأماكن)
    let shuffledOptionsMap = [];

    // عناصر DOM
    const questionText = document.getElementById('question-text');
    const optionsContainer = document.getElementById('options-container');
    const qCurrent = document.getElementById('q-current');
    const qTotal = document.getElementById('q-total');
    const scoreDisplay = document.getElementById('score');
    const nextBtn = document.getElementById('next-btn');
    const prevBtn = document.getElementById('prev-btn');
    const resultArea = document.getElementById('result-area');
    const quizArea = document.getElementById('quiz-area');

    // دالة لتهيئة الاختبار وخلط الخيارات مرة واحدة فقط عند البدء
    function initQuiz() {
        // إنشاء خريطة ثابتة للخيارات المخلوطة لكل سؤال
        questionsData.forEach((q, qIndex) => {
            // ننشئ مصفوفة بأرقام الخيارات [0, 1, 2, 3]
            let indices = q.options.map((_, i) => i);
            // نخلط المصفوفة
            for (let i = indices.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [indices[i], indices[j]] = [indices[j], indices[i]];
            }
            shuffledOptionsMap[qIndex] = indices;
        });

        qTotal.textContent = questionsData.length;
        loadQuestion(0);
    }

    function loadQuestion(index) {
        const q = questionsData[index];
        const viewOrder = shuffledOptionsMap[index]; // نحصل على الترتيب الثابت لهذا السؤال
        
        questionText.textContent = `${index + 1}. ${q.q}`;
        qCurrent.textContent = index + 1;
        scoreDisplay.textContent = score;

        optionsContainer.innerHTML = ''; // مسح الخيارات القديمة

        viewOrder.forEach(originalIndex => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.textContent = q.options[originalIndex];

            // التحقق من حالة الإجابة (هل أجاب المستخدم مسبقاً؟)
            const savedAnswer = userSelections[index];

            if (savedAnswer !== null) {
                // إذا كان قد أجاب، نعطل الأزرار ونظهر الألوان
                btn.disabled = true;
                if (originalIndex === q.a) {
                    btn.classList.add('correct'); // تلوين الإجابة الصحيحة
                }
                if (savedAnswer === originalIndex && savedAnswer !== q.a) {
                    btn.classList.add('wrong'); // تلوين إجابة المستخدم الخاطئة
                }
            } else {
                // إذا لم يجب بعد، نربط حدث النقر
                btn.onclick = () => selectAnswer(index, originalIndex);
            }

            optionsContainer.appendChild(btn);
        });

        // تحديث حالة أزرار التنقل
        prevBtn.disabled = index === 0;
        if (index === questionsData.length - 1) {
            nextBtn.textContent = 'إنهاء وعرض النتيجة';
        } else {
            nextBtn.textContent = 'التالي';
        }
    }

    function selectAnswer(qIndex, selectedOriginalIndex) {
        userSelections[qIndex] = selectedOriginalIndex;
        
        // التحقق من الصحة
        if (selectedOriginalIndex === questionsData[qIndex].a) {
            score++;
        }

        // إعادة تحميل السؤال لتطبيق التنسيقات (الألوان) وتعطيل الأزرار
        // وبما أننا نستخدم viewOrder الثابت، لن تتحرك الخيارات من مكانها
        loadQuestion(qIndex);
    }

    function nextQuestion() {
        if (currentIndex < questionsData.length - 1) {
            currentIndex++;
            loadQuestion(currentIndex);
        } else {
            showResults();
        }
    }

    function prevQuestion() {
        if (currentIndex > 0) {
            currentIndex--;
            loadQuestion(currentIndex);
        }
    }

    function showResults() {
        quizArea.style.display = 'none';
        resultArea.style.display = 'block';

        const percentage = Math.round((score / questionsData.length) * 100);
        document.getElementById('final-score').textContent = `%${percentage}`;
        document.getElementById('correct-count').textContent = score;
        document.getElementById('wrong-count').textContent = questionsData.length - score;

        let msg = "";
        let color = "";
        // تم تعديل الألوان هنا لتتناسب مع الثيم الداكن والذهبي
        if(percentage >= 90) { msg = "ممتاز! أداء استثنائي."; color = "#4caf50"; } // أخضر فاتح
        else if(percentage >= 75) { msg = "جيد جداً! أحسنت."; color = "#64b5f6"; } // أزرق فاتح
        else if(percentage >= 50) { msg = "جيد، لقد اجتزت الاختبار."; color = "#ffd54f"; } // أصفر ذهبي
        else { msg = "حاول مرة أخرى لتحسين مستواك."; color = "#e57373"; } // أحمر فاتح

        const msgElem = document.getElementById('result-message');
        msgElem.textContent = msg;
        msgElem.style.color = color;
        msgElem.style.fontWeight = "bold";
        msgElem.style.fontSize = "1.3rem";
        
        // تم إزالة تغيير خلفية الدائرة هنا لأننا اعتمدنا ستايل ذهبي ثابت في CSS
        // document.getElementById('final-score').style.background = color; 
    }

    // بدء التطبيق
    initQuiz();
</script>

</body>
</html>
